<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>
    <meta charset="utf-8">
    <title>Asteroids</title>
    <script src="lib/movingObject.js"></script>
    <script src="lib/util.js"></script>
    <script src="lib/asteroid.js"></script>
    <script src="lib/game.js"></script>
    <script src="lib/ship.js"></script>
    <script src="lib/bullet.js"></script>
    <script src="keymaster.js"></script>
    <script src="lib/game.js"></script>
    <script src="lib/gameView.js"></script>

    <style type="text/css">
      body { margin: 0; }
      .game { margin: 0 auto; }
      h1 {
        color: blue;
        font-family: "Press Start 2P", cursive;
      }
      #game-canvas {
      background: url("assets/star_wars.jpg");
      background-size: cover;
      margin: 5px;
      border: 1px solid blue;
      /*border: 3px solid blue;*/

      }
      /*#canvas-box {
              background: black;
              border: 3px solid blue;
              position: relative;}*/
      #header-box {
              margin: 0 auto; text-align: center;}
      #reset-box {
             margin: 0; padding: 0; text-align: center; position: absolute; top: 60%; left: 37.5%; font-size: 1.5vw;
            }
      button {font-size: 30px; font-family: "Press Start 2P", cursive; border: 1px solid #000; }
      button:hover {color: #fff; background: #000;}
      #instructions {border: 1px solid #fff; background: #000; position: absolute; font-size: 1.5vw; font-family: "Press Start 2P", cursive; color: blue; top: 22.5%; left: 27.5%; padding: 20px;}
      body {
        background: #000;
      }
      .display-none { display: none;}

    </style>
  </head>

  <body>
    <section class="game">
      <!-- <section id="header-box">
        <h1>Asteroids</h1>
      </section> -->

      <!-- <section id="canvas-box"> -->
        <canvas id="game-canvas"></canvas>
        <section id="instructions">
          <p>
            Up: Accelerate
          </p>
          <p>
            Down: Decelerate
          </p>
          <p>
            Right: Rotate Clockwise
          </p>
          <p>
            Left: Rotate Counterclockwise
          </p>
          <p>
            Spacebar: Shoot
          </p>
          <p>
            P: Start Game
          </p>
        </section>
      <!-- </section> -->

      <section id="reset-box" class="display-none">
        <form onClick="history.go(0)">
          <button>Reset Game</button>
        </form>
      </section>



      <script type="text/javascript">
        key('down', function(){
          event.preventDefault();
        })
        key('up', function(){
          event.preventDefault();
        })
        var canvas = document.getElementById('game-canvas');
        canvas.width = window.innerWidth - 20
        canvas.height = window.innerHeight - 20
        var ctx = canvas.getContext('2d');
        var imageObj = new Image();
        imageObj.src = "assets/asteroid_blue.png";
        var game = new Asteroids.Game(ctx);
        var gameView = new Asteroids.GameView(game, ctx);
        key('p', function(){

          event.preventDefault();
          $("#instructions").addClass("display-none");
          gameView.start()
        });

        // imageObj.onload = function(){
        //   gameView.start();
        // }.bind(this)
      </script>
    </section>

  </body>

</html>
